<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gapminder">
<title>gapminder • gapminder</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="gapminder">
<meta property="og:description" content="gapminder">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gapminder</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/gapminder.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jennybc/gapminder/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>gapminder</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jennybc/gapminder/blob/HEAD/vignettes/gapminder.Rmd" class="external-link"><code>vignettes/gapminder.Rmd</code></a></small>
      <div class="d-none name"><code>gapminder.Rmd</code></div>
    </div>

    
    
<p>The is a data package with an excerpt from the <a href="https://www.gapminder.org/data/" class="external-link">Gapminder</a> data. The main
object in this package is the <code>gapminder</code> data frame or
“tibble”. There are other goodies, such as the data in tab delimited
form, a larger unfiltered dataset, premade color schemes for the
countries and continents, and ISO 3166-1 country codes.</p>
<p>The <code>gapminder</code> and <code>gapminder_unfiltered</code> data
frames include six variables, (<a href="https://www.gapminder.org/data/documentation/" class="external-link">Gapminder.org
documentation page</a>):</p>
<table class="table">
<thead><tr class="header">
<th align="left">variable</th>
<th align="left">meaning</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">country</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">continent</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">year</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">lifeExp</td>
<td align="left">life expectancy at birth</td>
</tr>
<tr class="odd">
<td align="left">pop</td>
<td align="left">total population</td>
</tr>
<tr class="even">
<td align="left">gdpPercap</td>
<td align="left">per-capita GDP</td>
</tr>
</tbody>
</table>
<p>Per-capita GDP (Gross domestic product) is given in units of <a href="https://en.wikipedia.org/wiki/Geary%E2%80%93Khamis_dollar" class="external-link">international
dollars</a>, “a hypothetical unit of currency that has the same
purchasing power parity that the U.S. dollar had in the United States at
a given point in time” – 2005, in this case.</p>
<p>The package contains two main data frames or tibbles:</p>
<ul>
<li>
<code>gapminder</code>: 12 rows for each country (1952, 1957, …,
2007). It’s a subset of …</li>
<li>
<code>gapminder_unfiltered</code>: more lightly filtered and
therefore about twice as many rows.</li>
</ul>
<p><strong>Note: this package exists for the purpose of teaching and
making code examples. It is an excerpt of data found in specific
spreadsheets on Gapminder.org circa 2010. It is not a definitive source
of socioeconomic data and I don’t update it. Use other data sources if
it’s important to have the current best estimate of these
statistics.</strong></p>
<div class="section level2">
<h2 id="install-and-test-drive">Install and test drive<a class="anchor" aria-label="anchor" href="#install-and-test-drive"></a>
</h2>
<p>Install <code>gapminder</code> from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"gapminder"</span><span class="op">)</span></span></code></pre></div>
<p>Load it and test drive with some data aggregation and plotting:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder" class="external-link">gapminder</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="va">lifeExp</span> <span class="op">~</span> <span class="va">continent</span>, <span class="va">gapminder</span>, <span class="va">median</span><span class="op">)</span></span>
<span><span class="co">#&gt;   continent lifeExp</span></span>
<span><span class="co">#&gt; 1    Africa 47.7920</span></span>
<span><span class="co">#&gt; 2  Americas 67.0480</span></span>
<span><span class="co">#&gt; 3      Asia 61.7915</span></span>
<span><span class="co">#&gt; 4    Europe 72.2410</span></span>
<span><span class="co">#&gt; 5   Oceania 73.6650</span></span>
<span></span>
<span><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>lifeExp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 2</span></span></span>
<span><span class="co">#&gt;   continent lifeExp</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Africa       52.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Americas     72.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Asia         72.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Europe       78.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Oceania      80.7</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">gapminder</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">continent</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span>outlier.colour <span class="op">=</span> <span class="st">"hotpink"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html" class="external-link">geom_jitter</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_jitter.html" class="external-link">position_jitter</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.1</span>, height <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p><img src="gapminder_files/figure-html/test-drive-1.png" width="60%"></p>
</div>
<div class="section level2">
<h2 id="color-schemes-for-countries-and-continents">Color schemes for countries and continents<a class="anchor" aria-label="anchor" href="#color-schemes-for-countries-and-continents"></a>
</h2>
<p><code>country_colors</code> and <code>continent_colors</code> are
provided as character vectors where elements are hex colors and the
names are countries or continents.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">country_colors</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;          Nigeria            Egypt         Ethiopia Congo, Dem. Rep. </span></span>
<span><span class="co">#&gt;        "#7F3B08"        "#833D07"        "#873F07"        "#8B4107"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">continent_colors</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Africa  Americas      Asia    Europe   Oceania </span></span>
<span><span class="co">#&gt; "#7F3B08" "#A50026" "#40004B" "#276419" "#313695"</span></span></code></pre></div>
<p><img src="../reference/figures/gapminder-color-scheme-ggplot2.png" width="100%"></p>
<p>The color schemes are available as:</p>
<ul>
<li>
<a href="https://github.com/jennybc/gapminder/blob/main/data-raw/gapminder-color-scheme-ggplot2.png" class="external-link">PNG</a>
or <a href="https://github.com/jennybc/gapminder/blob/main/data-raw/gapminder-color-scheme-base.pdf" class="external-link">PDF</a>,
in the package’s GitHub repo</li>
<li>
<a href="https://github.com/jennybc/gapminder/blob/main/inst/extdata/continent-colors.tsv" class="external-link"><code>continent-colors.tsv</code></a>
and <a href="https://github.com/jennybc/gapminder/blob/main/inst/extdata/country-colors.tsv" class="external-link"><code>country-colors.tsv</code></a>,
which are part of the installed package</li>
</ul>
</div>
<div class="section level2">
<h2 id="how-to-use-the-color-scheme-in-ggplot2">How to use the color scheme in ggplot2<a class="anchor" aria-label="anchor" href="#how-to-use-the-color-scheme-in-ggplot2"></a>
</h2>
<p>Provide <code>country_colors</code> to
<code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual()</a></code> like so:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">...</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">country_colors</span><span class="op">)</span> <span class="op">+</span> <span class="va">...</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">gapminder</span>, <span class="va">continent</span> <span class="op">!=</span> <span class="st">"Oceania"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">lifeExp</span>, group <span class="op">=</span> <span class="va">country</span>, color <span class="op">=</span> <span class="va">country</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">0.8</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">continent</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">country_colors</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    strip.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">0.8</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="gapminder_files/figure-html/demo-country-colors-ggplot2-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="how-to-use-the-color-scheme-in-base-graphics">How to use the color scheme in base graphics<a class="anchor" aria-label="anchor" href="#how-to-use-the-color-scheme-in-base-graphics"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># for convenience, integrate the country colors into the data.frame</span></span>
<span><span class="va">gap_with_colors</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="va">gapminder</span>,</span>
<span>  cc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">country_colors</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">country</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">country_colors</span><span class="op">)</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># bubble plot, focus just on Africa and Europe in 2007</span></span>
<span><span class="va">keepers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span></span>
<span>  <span class="va">gap_with_colors</span>,</span>
<span>  <span class="va">continent</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Africa"</span>, <span class="st">"Europe"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">lifeExp</span> <span class="op">~</span> <span class="va">gdpPercap</span>, <span class="va">gap_with_colors</span>,</span>
<span>  subset <span class="op">=</span> <span class="va">keepers</span>, log <span class="op">=</span> <span class="st">"x"</span>, pch <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  cex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">gap_with_colors</span><span class="op">$</span><span class="va">pop</span><span class="op">[</span><span class="va">keepers</span><span class="op">]</span> <span class="op">/</span> <span class="va">pi</span><span class="op">)</span> <span class="op">/</span> <span class="fl">1500</span>,</span>
<span>  bg <span class="op">=</span> <span class="va">gap_with_colors</span><span class="op">$</span><span class="va">cc</span><span class="op">[</span><span class="va">keepers</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gapminder_files/figure-html/demo-country-colors-base-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="iso-3166-1-country-codes">ISO 3166-1 country codes<a class="anchor" aria-label="anchor" href="#iso-3166-1-country-codes"></a>
</h2>
<p>The <code>country_codes</code> data frame provides ISO 3166-1 country
codes for all the countries in the <code>gapminder</code> and
<code>gapminder_unfiltered</code> data frames. This can be used to
practice joining or merging.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>, <span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Kenya"</span>, <span class="st">"Peru"</span>, <span class="st">"Syria"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">country</span>, <span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">country_codes</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 4</span></span></span>
<span><span class="co">#&gt;   country continent iso_alpha iso_num</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Kenya   Africa    KEN           404</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Peru    Americas  PER           604</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Syria   Asia      SYR           760</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="what-is-gapminder-good-for">What is <code>gapminder</code> good for?<a class="anchor" aria-label="anchor" href="#what-is-gapminder-good-for"></a>
</h2>
<p>This excerpt has been used in <a href="https://stat545.com/" class="external-link">STAT
545</a>, in <a href="http://jennybc.github.io/2014-05-12-ubc/" class="external-link">R-flavored Software
Carpentry Workshops</a> and a <a href="https://github.com/jennybc/ggplot2-tutorial" class="external-link"><code>ggplot2</code>
tutorial</a>. <code>gapminder</code> is very useful for teaching novices
data wrangling and visualization in R.</p>
<p>Description:</p>
<ul>
<li>1704 observations; fills a size niche between <code>iris</code> (150
rows) and the likes of <code>diamonds</code> (54K rows)</li>
<li>6 variables
<ul>
<li>
<code>country</code> a factor with 142 levels</li>
<li>
<code>continent</code>, a factor with 5 levels</li>
<li>
<code>year</code>: going from 1952 to 2007 in increments of 5
years</li>
<li>
<code>pop</code>: population</li>
<li>
<code>gdpPercap</code>: GDP per capita</li>
<li>
<code>lifeExp</code>: life expectancy</li>
</ul>
</li>
</ul>
<p>There are 12 rows for each country in <code>gapminder</code>,
i.e. complete data for 1952, 1957, …, 2007.</p>
<p>The two factors provide opportunities to demonstrate factor handling,
in aggregation and visualization, for factors with very few and very
many levels.</p>
<p>The four quantitative variables are generally quite correlated with
each other and these trends have interesting relationships to
<code>country</code> and <code>continent</code>, so you will find that
simple plots and aggregations tell a reasonable story and are not
completely boring.</p>
<p>Visualization of the temporal trends in life expectancy, by country,
is particularly rewarding, since there are several countries with sharp
drops due to political upheaval. This then motivates more systematic
investigations via data aggregation to proactively identify all
countries whose data exhibits certain properties.</p>
</div>
<div class="section level2">
<h2 id="how-this-sausage-was-made">How this sausage was made<a class="anchor" aria-label="anchor" href="#how-this-sausage-was-made"></a>
</h2>
<blockquote class="twitter-tweet" lang="en">
<p>
Data cleaning code cannot be clean. It's a sort of sin eater.
</p>
— Stat Fact (<span class="citation">@StatFact</span>)
<a href="https://twitter.com/StatFact/status/492753200190341120" class="external-link">July
25, 2014</a>
</blockquote>
<p>The <a href="https://github.com/jennybc/gapminder/tree/main/data-raw#readme" class="external-link"><code>data-raw</code></a>
directory contains the Excel spreadsheets downloaded from <a href="https://www.gapminder.org/" class="external-link">Gapminder</a> in 2008 and 2009 and all
the scripts necessary to create everything in this package, in raw and
“compiled notebook” form.</p>
</div>
<div class="section level2">
<h2 id="plain-text-delimited-files">Plain text delimited files<a class="anchor" aria-label="anchor" href="#plain-text-delimited-files"></a>
</h2>
<p>If you want to practice importing from file, various tab delimited
files are included:</p>
<ul>
<li>
<a href="https://github.com/jennybc/gapminder/tree/main/inst/extdata/gapminder.tsv" class="external-link"><code>gapminder.tsv</code></a>:
the same dataset available via
<code><a href="https://github.com/jennybc/gapminder" class="external-link">library("gapminder"); gapminder</a></code>
</li>
<li>
<a href="https://github.com/jennybc/gapminder/tree/main/inst/extdata/gapminder-unfiltered.tsv" class="external-link"><code>gapminder-unfiltered.tsv</code></a>:
the larger dataset available via
<code><a href="https://github.com/jennybc/gapminder" class="external-link">library("gapminder"); gapminder_unfiltered</a></code>.</li>
<li>
<a href="https://github.com/jennybc/gapminder/tree/main/inst/extdata/continent-colors.tsv" class="external-link"><code>continent-colors.tsv</code></a>
and <a href="https://github.com/jennybc/gapminder/tree/main/inst/extdata/country-colors.tsv" class="external-link"><code>country-colors.tsv</code></a>:
color schemes</li>
</ul>
<p>In the package’s GitHub repo, these delimited files can be found:</p>
<ul>
<li>in the <a href="https://github.com/jennybc/gapminder/tree/main/inst/extdata" class="external-link"><code>inst/extdata/</code></a>
sub-directory</li>
</ul>
<p>Once you’ve installed the <code>gapminder</code> package they can be
found locally and used like so:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gap_tsv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"gapminder.tsv"</span>, package <span class="op">=</span> <span class="st">"gapminder"</span><span class="op">)</span></span>
<span><span class="va">gap_tsv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim</a></span><span class="op">(</span><span class="va">gap_tsv</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">gap_tsv</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    1704 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ country  : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span></span>
<span><span class="co">#&gt;  $ continent: chr  "Asia" "Asia" "Asia" "Asia" ...</span></span>
<span><span class="co">#&gt;  $ year     : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span></span>
<span><span class="co">#&gt;  $ lifeExp  : num  28.8 30.3 32 34 36.1 ...</span></span>
<span><span class="co">#&gt;  $ pop      : int  8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 16317921 22227415 ...</span></span>
<span><span class="co">#&gt;  $ gdpPercap: num  779 821 853 836 740 ...</span></span>
<span><span class="va">gap_tsv</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># Bhutan did not make the cut because data for only 8 years :(</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"Bhutan"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] country   continent year      lifeExp   pop       gdpPercap</span></span>
<span><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span></span>
<span><span class="va">gap_bigger_tsv</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"gapminder-unfiltered.tsv"</span>, package <span class="op">=</span> <span class="st">"gapminder"</span><span class="op">)</span></span>
<span><span class="va">gap_bigger_tsv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim</a></span><span class="op">(</span><span class="va">gap_bigger_tsv</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">gap_bigger_tsv</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    3313 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ country  : chr  "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span></span>
<span><span class="co">#&gt;  $ continent: chr  "Asia" "Asia" "Asia" "Asia" ...</span></span>
<span><span class="co">#&gt;  $ year     : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span></span>
<span><span class="co">#&gt;  $ lifeExp  : num  28.8 30.3 32 34 36.1 ...</span></span>
<span><span class="co">#&gt;  $ pop      : int  8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 16317921 22227415 ...</span></span>
<span><span class="co">#&gt;  $ gdpPercap: num  779 821 853 836 740 ...</span></span>
<span><span class="va">gap_bigger_tsv</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># Bhutan IS here though! :)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"Bhutan"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   country continent year lifeExp     pop gdpPercap</span></span>
<span><span class="co">#&gt; 1  Bhutan      Asia 1972  41.837 1087991  807.6226</span></span>
<span><span class="co">#&gt; 2  Bhutan      Asia 1977  44.708 1205659  816.3102</span></span>
<span><span class="co">#&gt; 3  Bhutan      Asia 1982  47.872 1333704  946.8130</span></span>
<span><span class="co">#&gt; 4  Bhutan      Asia 1987  50.717 1490857 1494.2901</span></span>
<span><span class="co">#&gt; 5  Bhutan      Asia 1992  54.471 1673428 1904.1795</span></span>
<span><span class="co">#&gt; 6  Bhutan      Asia 1997  58.929 1876236 2561.5077</span></span>
<span><span class="co">#&gt; 7  Bhutan      Asia 2002  63.458 2094176 3256.0193</span></span>
<span><span class="co">#&gt; 8  Bhutan      Asia 2007  65.625 2327849 4744.6400</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"continent-colors.tsv"</span>, package <span class="op">=</span> <span class="st">"gapminder"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;   continent n_cty   color</span></span>
<span><span class="co">#&gt; 1    Africa    52 #7F3B08</span></span>
<span><span class="co">#&gt; 2  Americas    25 #A50026</span></span>
<span><span class="co">#&gt; 3      Asia    33 #40004B</span></span>
<span><span class="co">#&gt; 4    Europe    30 #276419</span></span>
<span><span class="co">#&gt; 5   Oceania     2 #313695</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"country-colors.tsv"</span>, package <span class="op">=</span> <span class="st">"gapminder"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;            country   color continent</span></span>
<span><span class="co">#&gt; 1          Nigeria #7F3B08    Africa</span></span>
<span><span class="co">#&gt; 2            Egypt #833D07    Africa</span></span>
<span><span class="co">#&gt; 3         Ethiopia #873F07    Africa</span></span>
<span><span class="co">#&gt; 4 Congo, Dem. Rep. #8B4107    Africa</span></span>
<span><span class="co">#&gt; 5     South Africa #8F4407    Africa</span></span>
<span><span class="co">#&gt; 6            Sudan #934607    Africa</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>Gapminder’s data is released under the Creative Commons Attribution
3.0 Unported license. See their <a href="https://docs.google.com/document/pub?id=1POd-pBMc5vDXAmxrpGjPLaCSDSWuxX6FLQgq5DhlUhM" class="external-link">terms
of use</a>.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>Run this command to get info on how to cite this package. If you’ve
installed gapminder from CRAN, the year will be populated and populated
correctly (unlike below).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"gapminder"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; To cite package 'gapminder' in publications use:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Bryan J (2023). _gapminder: Data from Gapminder_.</span></span>
<span><span class="co">#&gt;   https://github.com/jennybc/gapminder,</span></span>
<span><span class="co">#&gt;   https://www.gapminder.org/data/,</span></span>
<span><span class="co">#&gt;   https://doi.org/10.5281/zenodo.594018,</span></span>
<span><span class="co">#&gt;   https://jennybc.github.io/gapminder/.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   @Manual{,</span></span>
<span><span class="co">#&gt;     title = {gapminder: Data from Gapminder},</span></span>
<span><span class="co">#&gt;     author = {Jennifer Bryan},</span></span>
<span><span class="co">#&gt;     year = {2023},</span></span>
<span><span class="co">#&gt;     note = {https://github.com/jennybc/gapminder,</span></span>
<span><span class="co">#&gt; https://www.gapminder.org/data/,</span></span>
<span><span class="co">#&gt; https://doi.org/10.5281/zenodo.594018,</span></span>
<span><span class="co">#&gt; https://jennybc.github.io/gapminder/},</span></span>
<span><span class="co">#&gt;   }</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jennifer Bryan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
